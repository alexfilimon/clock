function consoleLogTime(e){var t=new Date;console.log(t.getHours()+":"+t.getMinutes()+" - "+e)}var settings={showWithSeconds:!0,editShowWithSeconds:function(e){this.showWithSeconds=e},colors:{dayColor:"#fff",nightColor:"#000"},editColors:function(e){this.colors=e},opacity:.1,editOpacity:function(e){this.opacity=e},ampm:!1,editAmpm:function(e){this.ampm=e,e?$(".wrap-weather-ampm .ampm").css("opacity","1"):$(".wrap-weather-ampm .ampm").css("opacity","0")},selectorCDayColors:"",selectorBgcDayColors:"",intervalWeatherId:null};function setDayColor(){$(settings.selectorCDayColors).css("color",settings.colors.dayColor),$(settings.selectorBgcDayColors).css("background-color",settings.colors.dayColor)}function getDigitClass(e){var t="";return $(e).attr("class").split(" ").forEach(function(e){digits.indexOf(e)>=0&&(t=e)}),t}function setTime(e,t,i,s){if(s){var o=digits.indexOf(getDigitClass(".js-digits-hours .digit-left")),n=digits.indexOf(getDigitClass(".js-digits-hours .digit-right"));Math.floor(e/10)===o&&e%10===n||(0===e?($(".js-digits-hours .digit-left").removeClass(digits[o]).addClass("one"),$(".js-digits-hours .digit-right").removeClass(digits[n]).addClass("two"),$(".wrap-weather-ampm .ampm").text("PM")):e>12?(console.log("hours > 12"),$(".wrap-weather-ampm .ampm").text("PM")):($(".js-digits-hours .digit-left").removeClass(digits[o]).addClass(digits[Math.floor(e/10)]),$(".js-digits-hours .digit-right").removeClass(digits[n]).addClass(digits[e%10]),$(".wrap-weather-ampm .ampm").text("AM")))}else{o=digits.indexOf(getDigitClass(".js-digits-hours .digit-left")),n=digits.indexOf(getDigitClass(".js-digits-hours .digit-right"));Math.floor(e/10)!==o&&$(".js-digits-hours .digit-left").removeClass(digits[o]).addClass(digits[Math.floor(e/10)]),e%10!==n&&$(".js-digits-hours .digit-right").removeClass(digits[n]).addClass(digits[e%10])}var a=digits.indexOf(getDigitClass(".js-digits-minutes .digit-left")),l=digits.indexOf(getDigitClass(".js-digits-minutes .digit-right"));Math.floor(t/10)!==a&&$(".js-digits-minutes .digit-left").removeClass(digits[a]).addClass(digits[Math.floor(t/10)]),t%10!==l&&$(".js-digits-minutes .digit-right").removeClass(digits[l]).addClass(digits[t%10]);var r=digits.indexOf(getDigitClass(".js-digits-seconds .digit-left")),d=digits.indexOf(getDigitClass(".js-digits-seconds .digit-right"));Math.floor(i/10)!==r&&$(".js-digits-seconds .digit-left").removeClass(digits[r]).addClass(digits[Math.floor(i/10)]),i%10!==d&&$(".js-digits-seconds .digit-right").removeClass(digits[d]).addClass(digits[i%10])}function toggleFullScreen(){document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement?(document.cancelFullScreen?document.cancelFullScreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen&&document.webkitCancelFullScreen(),$(".content").css("height","100%").css("height","100vh")):document.documentElement.requestFullscreen?document.documentElement.requestFullscreen():document.documentElement.mozRequestFullScreen?document.documentElement.mozRequestFullScreen():document.documentElement.webkitRequestFullscreen&&document.documentElement.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT)}settings.editAmpm(!0),digits=["zero","one","two","three","four","five","six","seven","eight","nine"],$(".js-button-fullscreen").click(function(){toggleFullScreen()}),setInterval(function(){$(".divider").toggleClass("active")},500);var placeSearch,autocomplete,timeObj={time:0,tz:0,diff:0,getSeconds:function(){return(Math.floor(this.time/1e3)-Math.floor(this.diff/1e3)+3600*this.tz)%86400%60},getMinutes:function(){var e=(Math.floor(this.time/1e3)-Math.floor(this.diff/1e3)+3600*this.tz)%86400;return Math.floor(e/60)%60},getHours:function(){var e=(Math.floor(this.time/1e3)-Math.floor(this.diff/1e3)+3600*this.tz)%86400;return Math.floor(e/3600)}};function timeInit(){var e=new Date;timeObj.time=e.getTime(),timeObj.tz=-1*e.getTimezoneOffset()/60,setTime(timeObj.getHours(),timeObj.getMinutes(),timeObj.getSeconds())}timeInit(),setInterval(function(){timeObj.time=(new Date).getTime(),settings.showWithSeconds?(setTime(timeObj.getHours(),timeObj.getMinutes(),timeObj.getSeconds(),settings.ampm),$(".js-seconds-delete").css("display","inline-block")):(0===timeObj.getSeconds()&&setTime(timeObj.getHours(),timeObj.getMinutes(),timeObj.getSeconds(),settings.ampm),$(".js-seconds-delete").css("display","none"))},1e3);var componentForm={street_number:"short_name",route:"long_name",locality:"long_name",administrative_area_level_1:"short_name",country:"long_name",postal_code:"short_name"};function initAutocomplete(){(autocomplete=new google.maps.places.Autocomplete(document.getElementById("autocomplete"),{types:["geocode"]})).addListener("place_changed",updateWeatherTime)}function updateWeather(e,t,i){$.ajax({url:"http://api.openweathermap.org/data/2.5/weather?lat="+e+"&lon="+t+"&APPID=60e7723469dd24ae66481fa2ece9470a&units=metric",success:function(e){var t=Math.round(e.main.temp);consoleLogTime("Temperature in "+i+" has been updated: "+t),t>=0?t="+"+t+"°":t+="°",$(".weather .weather-value").text(t)},error:function(e){console.log("error with getting weather: ",e)}})}function updateWeatherTime(){var e=autocomplete.getPlace(),t=e.geometry.location.lat(),i=e.geometry.location.lng(),s=e.address_components[0].long_name;$(".place-name").text(s),clearInterval(settings.intervalWeatherId),updateWeather(t,i,s),settings.intervalWeatherId=setInterval(function(){updateWeather(t,i,s)},6e5),$.ajax({url:"http://api.timezonedb.com/v2/get-time-zone?key=PTYA8KOMX46R&format=json&by=position&lat="+t+"&lng="+i,success:function(e){console.log("Прибыли данные о времени: ",e,Math.floor(e.gmtOffset/3600),e.timestamp-e.gmtOffset);var t=e.gmtOffset/3600,i=timeObj.time-1e3*(e.timestamp-e.gmtOffset);timeObj.diff=i,timeObj.tz=t},error:function(e){console.log("error with getting time: ",e)}})}function geolocate(){navigator.geolocation&&navigator.geolocation.getCurrentPosition(function(e){var t={lat:e.coords.latitude,lng:e.coords.longitude},i=new google.maps.Circle({center:t,radius:e.coords.accuracy});autocomplete.setBounds(i.getBounds())})}